<!DOCTYPE HTML>
{% include 'header.html' %}

<br>

<div class="container">
    <div class="row">
        <div class="col-md-12">

        <h2 style='width:100%; text-align:center' class='elexhdd' ><strong>Baseball 2018</strong></h2>
        <br>
            <hr class='fancy'>
            <div class="row">
                <div class="col-xs-3" style='text-align:center'>League</div>
                <div class="col-xs-3" style='text-align:center'><a href=""><strong style='color:#FF9C00'>Sox</strong></a></div>
                <div class="col-xs-3" style='text-align:center'><a href=""><strong style='color:#FF9C00'>Cubs</strong></a></div>
                <div class="col-xs-3" style='text-align:center'><a href=""><strong style='color:#FF9C00'>H2H</strong></a></div>
            </div>
            <hr class='fancy'>
        <br>

        <h3><small>I'm going to try and follow the baseball season using a python app. It's not much to look at right now, but I'll add to it gradually. The idea is to run a script once a day to update all the csv files and build this python/flask-based website. Then I'll back it up to github where it'll be viewable.<br>
            I'm starting with the <a href ="https://github.com/jldbc/pybaseball" target="_blank">pybaseball</a> package by James LeDoux and going from there. The goal is to learn more python and more about baseball statistics. All my work can be <a href="https://github.com/dailyherald/pybaseball" target="_blank">found here.</a></small></h3>
            <br>
            <p><strong>Updated Wednesday, April 4</strong><br>
                I really ought to automate that date. I have updated things behind the scenes. First, in the github repository, the final version of the code to this is in the 'freeze.py' script. The 'playing' jupyter notebook is where I work things out prior to including them in freeze.py.<br>
                Next, I've added batting and pitching stats for each team to the standings file. Pybaseball gets these from <a href="https://www.fangraphs.com" target="_blank">fangraphs.com.</a> I'm in the process of adding graphics below the standings, based on some work I've done with <a href="https://github.com/dailyherald/Seaborn" target="_blank"> Seaborn.</a> I'll be running regressions on several things and watch how they change as the season progresses.<br>
                Finally, I'll set up a bar chart of team home runs. I believe it's projected a couple of teams may break the single-season record, so maybe there'll be a horse race to watch.<br>
                After this page is done, I'll start figuring out what kind of analytics I want to do for the Cubs and Sox individually, as well as a head-to-head comparison page.
            </p>

        <div class="row">
        <div class="col-md-6">

            <br>
            <!--Begin schedule-->
            <!--Select for League-->
             {% for group in object_list|groupby('League') %}
                {% if group.grouper == "American" %}
                    <hr class='fancy'>
                    <br>
                    <h2 style='width:100%; text-align:center'>{{ group.grouper }} League</h2>

                    <!-- East division -->
                    {% for div in group.list|groupby('Division') %}
                        {% if div.grouper == "East" %}
                            <br>
                            <h4><strong>{{ div.grouper }} Division</strong></h4>
                            <table class='table table-condensed elex'>
                                <thead>
                                <th style="text-align:left">Team</th><th>Wins</th><th>Loses</th><th>W-L %</th><th>GB</th>
                            </thead><tbody>
                                {% for team in div.list|sort(reverse=True, attribute='WLperc') %}
                                        <tr>
                                            <td style="text-align:left">{{ team.Team }}</td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                        {% endfor %}

                        <!-- Central division -->
                    {% for div in group.list|groupby('Division') %}
                        {% if div.grouper == "Central" %}
                            <br>
                            <h4><strong>{{ div.list[0]['Division'] }} Division</strong></h4>
                            <table class='table table-condensed elex'>
                                <thead>
                                <th style="text-align:left">Team</th><th>Wins</th><th>Loses</th><th>W-L %</th><th>GB</th>
                            </thead><tbody>
                                {% for team in div.list|sort(reverse=True, attribute='WLperc') %}
                                    {% if team.Tm == 'Chicago White Sox' %}
                                        <tr>
                                            <td style="text-align:left"><a href=""><strong style='color:#FF9C00'>{{ team.Team }}</a></strong></td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                    {% else %}
                                        <tr>
                                            <td style="text-align:left">{{ team.Team }}</td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                    {% endif %}
                                {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                        {% endfor %}

                        <!-- West division -->
                    {% for div in group.list|groupby('Division') %}
                        {% if div.grouper == "West" %}
                            <br>
                            <h4><strong>{{ div.list[0]['Division'] }} Division</strong></h4>
                            <table class='table table-condensed elex'>
                                <thead>
                                <th style="text-align:left">Team</th><th>Wins</th><th>Loses</th><th>W-L %</th><th>GB</th>
                            </thead><tbody>
                                {% for team in div.list|sort(reverse=True, attribute='WLperc') %}
                                        <tr>
                                            <td style="text-align:left">{{ team.Team }}</td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </div>

        <div class="col-md-6">
            <br>
            <!--Begin schedule-->
            <!--Select for League-->
             {% for group in object_list|groupby('League') %}
                {% if group.grouper == "National" %}
                    <hr class='fancy'>
                    <br>
                    <h2 style='width:100%; text-align:center'>{{ group.grouper }} League</h2>
                    
                    <!-- East division -->
                    {% for div in group.list|groupby('Division') %}
                        {% if div.grouper == "East" %}
                            <br>
                            <h4><strong>{{ div.grouper }} Division</strong></h4>
                            <table class='table table-condensed elex'>
                                <thead>
                                <th style="text-align:left">Team</th><th>Wins</th><th>Loses</th><th>W-L %</th><th>GB</th>
                            </thead><tbody>
                                {% for team in div.list|sort(reverse=True, attribute='WLperc') %}
                                        <tr>
                                            <td style="text-align:left">{{ team.Team }}</td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                        {% endfor %}

                        <!-- Central division -->
                    {% for div in group.list|groupby('Division') %}
                        {% if div.grouper == "Central" %}
                            <br>
                            <h4><strong>{{ div.list[0]['Division'] }} Division</strong></h4>
                            <table class='table table-condensed elex'>
                                <thead>
                                <th style="text-align:left">Team</th><th>Wins</th><th>Loses</th><th>W-L %</th><th>GB</th>
                            </thead><tbody>
                                {% for team in div.list|sort(reverse=True, attribute='WLperc') %}
                                    {% if team.Tm == 'Chicago Cubs' %}
                                        <tr>
                                            <td style="text-align:left"><a href=""><strong style='color:#FF9C00'>{{ team.Team }}</a></strong></td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                    {% else %}
                                        <tr>
                                            <td style="text-align:left">{{ team.Team }}</td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                    {% endif %}
                                {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                        {% endfor %}

                        <!-- West division -->
                    {% for div in group.list|groupby('Division') %}
                        {% if div.grouper == "West" %}
                            <br>
                            <h4><strong>{{ div.list[0]['Division'] }} Division</strong></h4>
                            <table class='table table-condensed elex'>
                                <thead>
                                <th style="text-align:left">Team</th><th>Wins</th><th>Loses</th><th>W-L %</th><th>GB</th>
                            </thead><tbody>
                                {% for team in div.list|sort(reverse=True, attribute='WLperc') %}
                                        <tr>
                                            <td style="text-align:left">{{ team.Team }}</td>
                                            <td>{{ team.W }}</td>
                                            <td>{{ team.L }}</td>
                                            <td>{{ team.WLperc }}</td>
                                            <td>{{ team.GB }}</td>
                                        </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endfor %}
        </div>
        </div>
        <!-- end standings -->
        <!-- Begin analysis -->
        <br>
        <hr class='fancy'>
        <br>
        <h2 style='width:100%; text-align:center'><strong>Regressions</strong></h2>
        <br>
        <p>Here's where I'm going to take a look at various measures visually and see how the Chicago teams fall among the major leagues.</p>
        <hr>
        <div class="row">
            <div class="col-md-4">
                <h4><strong>Batting average versus Earned Run Average</strong>
                    <br><small>Black = White Sox, Blue = Cubs.</small></h4>
                <p>The classic statistics - obviously a high batting average and a low ERA should equal more wins.</p>
                <br>
            </div>
            <div class="col-md-8">
                <img src="{{ url_for('static', filename='img/BAvERA.png') }}" class="img-responsive center-block"><br>
            </div>
        </div>



    </div>
    </div>
</div>

<br><br>
<script>
$.ajaxSetup({ cache: false});
</script>

{% include 'footer.html' %}
